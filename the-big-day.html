<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Big Day</title>
<style>
body{
  font-family: Arial, sans-serif;
  background:#f2f6ff;
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  color:#1f2430;
  text-align:center;
}
.card{
  width:min(900px, 95vw);
  background:#fff;
  border-radius:22px;
  padding:30px;
  box-shadow:0 18px 40px rgba(0,0,0,.12);
}
.huge-title{
  font-size:clamp(3.5rem, 8vw, 6rem);
  font-weight:900;
  letter-spacing:2px;
  text-transform:uppercase;
  color:#c40000;
  margin-bottom:12px;
  transform:scale(1);
  transition:transform .6s ease, color .6s ease;
  text-shadow:3px 3px 0 #000,6px 6px 0 rgba(0,0,0,.25);
}
.pop{animation:pop 520ms ease-out;}
@keyframes pop{
  0%{transform:scale(var(--scale,1))}
  35%{transform:scale(calc(var(--scale,1)*1.10))}
  70%{transform:scale(calc(var(--scale,1)*0.98))}
  100%{transform:scale(var(--scale,1))}
}
.shake{animation:shake 220ms linear infinite;}
@keyframes shake{
  0%{transform:translate(0,0) rotate(0deg) scale(var(--scale,1))}
  25%{transform:translate(0.4px,-0.3px) rotate(-0.3deg) scale(var(--scale,1))}
  50%{transform:translate(-0.4px,0.3px) rotate(0.3deg) scale(var(--scale,1))}
  75%{transform:translate(0.3px,0.4px) rotate(-0.2deg) scale(var(--scale,1))}
  100%{transform:translate(0,0) rotate(0deg) scale(var(--scale,1))}
}
.sub{opacity:.75;margin-bottom:18px;}
.status{
  display:inline-block;
  padding:8px 14px;
  border-radius:999px;
  font-weight:800;
  border:2px solid #e6e9ff;
  background:#fbfbff;
  margin-bottom:18px;
}
.row{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;}
.box{
  border:2px solid #e6e9ff;
  background:#fbfbff;
  border-radius:18px;
  padding:16px;
}
.num{font-size:2.4rem;font-weight:900;}
.label{opacity:.7;margin-top:6px;}
.done{
  display:none;
  margin-top:16px;
  font-weight:900;
  color:#167a2f;
  font-size:1.2rem;
}
</style>
</head>
<body>
<div class="card">
<h1 id="bigDayTitle" class="huge-title">THE BIG DAY</h1>
<p class="sub">Only school hours count.</p>
<div class="status" id="statusPill">Checkingâ€¦</div>
<div class="row">
  <div class="box"><div class="num" id="days">0</div><div class="label">School Days</div></div>
  <div class="box"><div class="num" id="hours">00</div><div class="label">Hours</div></div>
  <div class="box"><div class="num" id="minutes">00</div><div class="label">Minutes</div></div>
  <div class="box"><div class="num" id="seconds">00</div><div class="label">Seconds</div></div>
</div>
<div class="done" id="doneMsg">ðŸŽ‰ ITâ€™S HERE ðŸŽ‰</div>
</div>
<script>
const TARGET=new Date(2026,4,22,13,0,0);
const SCHOOL_START={h:7,m:50};
const SCHOOL_END={h:15,m:10};
const EXCLUDED_DATES=new Set([
  "2026-01-19","2026-02-16",
  "2026-03-23","2026-03-24","2026-03-25","2026-03-26","2026-03-27",
  "2026-04-06"
]);
const $=id=>document.getElementById(id);
const pad=n=>String(n).padStart(2,"0");
function toYMD(d){return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;}
function isWeekend(d){return d.getDay()===0||d.getDay()===6;}
function isExcluded(d){return EXCLUDED_DATES.has(toYMD(d));}
function isSchoolDay(d){return !isWeekend(d)&&!isExcluded(d);}
function setTime(d,h,m){return new Date(d.getFullYear(),d.getMonth(),d.getDate(),h,m,0);}
function remainingSchoolMs(now){
  if(now>=TARGET)return 0;
  let total=0;
  let cur=new Date(now.getFullYear(),now.getMonth(),now.getDate());
  let end=new Date(TARGET.getFullYear(),TARGET.getMonth(),TARGET.getDate());
  while(cur<=end){
    if(isSchoolDay(cur)){
      const s=setTime(cur,SCHOOL_START.h,SCHOOL_START.m);
      const e=setTime(cur,SCHOOL_END.h,SCHOOL_END.m);
      const a=(toYMD(cur)===toYMD(now))?now:s;
      const b=(toYMD(cur)===toYMD(TARGET))?TARGET:e;
      total+=Math.max(0,Math.min(e,b)-Math.max(s,a));
    }
    cur.setDate(cur.getDate()+1);
  }
  return total;
}
function msParts(ms){
  let t=Math.floor(ms/1000);
  return{d:Math.floor(t/86400),h:Math.floor(t/3600)%24,m:Math.floor(t/60)%60,s:t%60};
}
function countSchoolDays(from){
  let c=0;
  let d=new Date(from.getFullYear(),from.getMonth(),from.getDate());
  let e=new Date(TARGET.getFullYear(),TARGET.getMonth(),TARGET.getDate());
  while(d<=e){if(isSchoolDay(d))c++;d.setDate(d.getDate()+1);}
  return Math.max(1,c);
}
const TOTAL_DAYS=countSchoolDays(new Date());
const POP_KEY="bigday_last_pop";
function update(){
  const now=new Date();
  const rem=remainingSchoolMs(now);
  const p=msParts(rem);
  $("days").textContent=p.d;
  $("hours").textContent=pad(p.h);
  $("minutes").textContent=pad(p.m);
  $("seconds").textContent=pad(p.s);
  const daysLeft=countSchoolDays(now);
  const title=$("bigDayTitle");
  const scale=1+(1-(daysLeft/TOTAL_DAYS))*0.35;
  title.style.setProperty("--scale",scale);
  title.style.transform=`scale(${scale})`;
  title.style.color=daysLeft<=1?"#d4af37":"#c40000";
  title.classList.toggle("shake",daysLeft<=5&&daysLeft>1);
  const ymd=toYMD(now);
  const popStart=setTime(now,7,50);
  const popEnd=new Date(popStart.getTime()+10000);
  if(isSchoolDay(now)&&now>=popStart&&now<=popEnd){
    if(localStorage.getItem(POP_KEY)!==ymd){
      title.classList.remove("pop");
      void title.offsetWidth;
      title.classList.add("pop");
      localStorage.setItem(POP_KEY,ymd);
    }
  }
  if(rem<=1000){$("doneMsg").style.display="block";}
}
update();
setInterval(update,1000);
</script>
</body>
</html>